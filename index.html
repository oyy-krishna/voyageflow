<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VoyageFlow — Interactive Travel Experience Simulator</title>
  <style>
    :root{--accent:#0ea5a4;--muted:#6b7280;--bg:#0f172a;--card:#0b1220}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;line-height:1.4;margin:0;background:linear-gradient(180deg,#0b1220 0%, #071025 100%);color:#e6eef6;min-height:100vh}
    .container{max-width:980px;margin:28px auto;padding:24px}
    header{display:flex;align-items:center;gap:16px}
    header h1{margin:0;font-size:20px}
    nav.topnav{display:flex;gap:8px;margin-top:12px}
    .btn{background:var(--accent);color:#022;display:inline-block;padding:10px 14px;border-radius:8px;text-decoration:none;font-weight:600;border:none;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
    .card{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    /* pages */
    .page{display:none}
    .page.active{display:block}
    /* form */
    form .row{display:flex;gap:12px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type=text],input[type=email],input[type=tel]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    .error{color:#ffb4b4;font-size:13px;margin-top:6px}
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    /* blog */
    .sticky{position:sticky;top:0;background:linear-gradient(90deg,rgba(2,6,23,0.6),rgba(2,6,23,0.9));backdrop-filter:blur(6px);padding:10px 0;z-index:40}
    .nav-tabs{display:flex;gap:12px}
    .section{padding:32px 12px;margin-bottom:18px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)}
    .sec-title{font-size:18px;margin:0 0 8px}
    /* price calc */
    .options{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .option{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;gap:10px}
    .option input{transform:scale(1.2)}
    .total{font-size:20px;font-weight:700;margin-top:12px}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.8));display:flex;align-items:center;justify-content:center;z-index:60}
    .modal{background:#071029;padding:20px;border-radius:12px;max-width:520px;width:94%;box-shadow:0 10px 40px rgba(2,6,23,0.7)}
    .modal h3{margin:0 0 8px}
    .close-x{background:transparent;border:0;color:var(--muted);cursor:pointer;font-weight:700}

    footer{margin-top:30px;text-align:center;color:var(--muted);font-size:13px}

    @media (max-width:640px){.form-grid{grid-template-columns:1fr}.row{flex-direction:column}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <svg width="46" height="46" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M12 2l3 6 6 2-4 5 1 7-6-3-6 3 1-7-4-5 6-2 3-6z" fill="url(#g)"/></svg>
      <div>
        <h1>VoyageFlow</h1>
        <div style="color:var(--muted);font-size:13px">Interactive Travel Experience Simulator — single-file demo</div>
      </div>
    </header>

    <!-- Page Containers -->
    <!-- Page 1: Registration -->
    <main id="page1" class="page active">
      <section class="card" style="margin-top:18px">
        <h2>Register to begin your journey</h2>
        <p style="color:var(--muted);margin-top:6px">Fill the details below. We validate contact fields before proceeding.</p>
        <form id="regForm" novalidate style="margin-top:12px">
          <div class="form-grid">
            <div>
              <label for="fname">Full Name</label>
              <input id="fname" name="fname" type="text" placeholder="Jane Doe" required />
              <div class="error" id="err-name"></div>
            </div>
            <div>
              <label for="email">Email Address</label>
              <input id="email" name="email" type="email" placeholder="you@domain.com" required />
              <div class="error" id="err-email"></div>
            </div>
            <div>
              <label for="phone">Phone (10 digits)</label>
              <input id="phone" name="phone" type="tel" placeholder="9876543210" required />
              <div class="error" id="err-phone"></div>
            </div>
            <div>
              <label for="pincode">PIN Code (6 digits)</label>
              <input id="pincode" name="pincode" type="text" placeholder="110001" required />
              <div class="error" id="err-pin"></div>
            </div>
          </div>

          <div style="margin-top:12px">
            <button class="btn" id="submitReg">Submit</button>
            <button type="button" class="btn ghost" id="fillDemo" style="margin-left:8px">Fill Demo</button>
          </div>
        </form>
      </section>

      <footer>Tip: This is a client-side mock. No data is stored.</footer>
    </main>

    <!-- Page 2: Blog -->
    <main id="page2" class="page">
      <div class="sticky card" style="display:flex;align-items:center;justify-content:space-between">
        <div style="display:flex;gap:12px;align-items:center">
          <strong>Destinations</strong>
          <nav class="nav-tabs" aria-label="sections">
            <a href="#paris" class="ghost" data-scroll>Paris</a>
            <a href="#tokyo" class="ghost" data-scroll>Tokyo</a>
            <a href="#rome" class="ghost" data-scroll>Rome</a>
            <a href="#bali" class="ghost" data-scroll>Bali</a>
            <a href="#cape" class="ghost" data-scroll>Cape Town</a>
          </nav>
        </div>
        <div>
          <button class="btn" id="toPage3">Proceed to Planner</button>
        </div>
      </div>

      <section id="paris" class="section">
        <h3 class="sec-title">Paris — City of Light</h3>
        <p style="color:var(--muted)">Stroll along the Seine, visit museums, and enjoy world-class patisseries. Imagine a picnic under the Eiffel Tower.</p>
      </section>

      <section id="tokyo" class="section">
        <h3 class="sec-title">Tokyo — Neon & Tradition</h3>
        <p style="color:var(--muted)">A mix of ancient temples and dazzling modernity. From sushi counters to Shinjuku skyscrapers, Tokyo surprises at every turn.</p>
      </section>

      <section id="rome" class="section">
        <h3 class="sec-title">Rome — Timeless</h3>
        <p style="color:var(--muted)">Walk the cobbled lanes, discover ruins, and enjoy evenings with pasta and gelato in lively piazzas.</p>
      </section>

      <section id="bali" class="section">
        <h3 class="sec-title">Bali — Island Serenity</h3>
        <p style="color:var(--muted)">Beach mornings, rice terrace hikes, and a warm culture that welcomes visitors with open arms.</p>
      </section>

      <section id="cape" class="section">
        <h3 class="sec-title">Cape Town — Peaks & Coasts</h3>
        <p style="color:var(--muted)">From Table Mountain to stunning coastlines — South Africa's jewel blends nature and urban charm.</p>
      </section>

      <div style="text-align:center;margin-top:14px">
        <button class="btn" id="endOfBlog">Go to Itinerary & Pricing</button>
      </div>
    </main>

    <!-- Page 3: Itinerary & Price Calculator -->
    <main id="page3" class="page">
      <section class="card">
        <h2>Plan your trip — select options</h2>
        <p style="color:var(--muted);margin-top:6px">Choose travel, food and activities. Total updates instantly.</p>

        <div style="margin-top:12px">
          <h4>Travel Options</h4>
          <div class="options" id="travelOpts">
            <label class="option"><input type="checkbox" data-price="12000"> Economy Flight — ₹12,000</label>
            <label class="option"><input type="checkbox" data-price="24000"> Business Flight — ₹24,000</label>
            <label class="option"><input type="checkbox" data-price="4000"> Train AC — ₹4,000</label>
            <label class="option"><input type="checkbox" data-price="1500"> Bus — ₹1,500</label>
          </div>
        </div>

        <div style="margin-top:12px">
          <h4>Food Packages</h4>
          <div class="options" id="foodOpts">
            <label class="option"><input type="checkbox" data-price="1500"> Local Food Tour — ₹1,500</label>
            <label class="option"><input type="checkbox" data-price="3000"> Gourmet Experience — ₹3,000</label>
            <label class="option"><input type="checkbox" data-price="800"> Breakfast Plan — ₹800</label>
          </div>
        </div>

        <div style="margin-top:12px">
          <h4>Activities</h4>
          <div class="options" id="actOpts">
            <label class="option"><input type="checkbox" data-price="8000"> Guided City Tour — ₹8,000</label>
            <label class="option"><input type="checkbox" data-price="3500"> Museum Pass — ₹3,500</label>
            <label class="option"><input type="checkbox" data-price="2500"> Adventure Sports — ₹2,500</label>
          </div>
        </div>

        <div class="total card" style="display:inline-block;margin-top:12px">Total Price: <span id="total">₹0</span></div>

        <div style="margin-top:16px">
          <button class="btn" id="confirmPlan">Confirm & Continue</button>
          <button class="btn ghost" id="backToBlog" style="margin-left:8px">Back to Blog</button>
        </div>
      </section>
    </main>

    <!-- Page 4: Confirmation -->
    <main id="page4" class="page">
      <section class="card" style="text-align:center">
        <h2>Thank you — Booking Simulated</h2>
        <p style="color:var(--muted)">Your selections have been recorded for this session only. This is a demonstration of a booking flow.</p>
        <div id="summary" style="text-align:left;margin-top:12px"></div>

        <div style="margin-top:16px;display:flex;gap:8px;justify-content:center">
          <button class="btn" id="startOver">Start Over</button>
          <a class="btn ghost" href="#" id="shareLink">Share (copy link)</a>
        </div>
      </section>
    </main>

  </div>

  <!-- Modal container (appended dynamically) -->
  <div id="modalRoot"></div>

  <script>
    // Utility: show page
    const pages = { p1:document.getElementById('page1'), p2:document.getElementById('page2'), p3:document.getElementById('page3'), p4:document.getElementById('page4') }
    function showPage(id){ Object.values(pages).forEach(p=>p.classList.remove('active')); document.getElementById(id).classList.add('active'); window.scrollTo({top:0,behavior:'smooth'});
    }

    // ---- Registration validation ----
    const regForm = document.getElementById('regForm');
    const errName = document.getElementById('err-name');
    const errEmail = document.getElementById('err-email');
    const errPhone = document.getElementById('err-phone');
    const errPin = document.getElementById('err-pin');

    function validateName(){ const v = document.getElementById('fname').value.trim(); if(!v){errName.textContent='Please enter your full name.';return false} errName.textContent=''; return true }
    function validateEmail(){ const v = document.getElementById('email').value.trim(); const re = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/; if(!re.test(v)){errEmail.textContent='Enter a valid email address.';return false} errEmail.textContent=''; return true }
    function validatePhone(){ const v = document.getElementById('phone').value.replace(/\D/g,''); if(!/^\d{10}$/.test(v)){errPhone.textContent='Phone must have exactly 10 digits.';return false} errPhone.textContent=''; return true }
    function validatePin(){ const v = document.getElementById('pincode').value.replace(/\D/g,''); if(!/^\d{6}$/.test(v)){errPin.textContent='PIN Code must have exactly 6 digits.';return false} errPin.textContent=''; return true }

    // Real-time validation
    document.getElementById('email').addEventListener('input',validateEmail);
    document.getElementById('phone').addEventListener('input',validatePhone);
    document.getElementById('pincode').addEventListener('input',validatePin);
    document.getElementById('fname').addEventListener('input',validateName);

    // Demo fill
    document.getElementById('fillDemo').addEventListener('click',()=>{
      document.getElementById('fname').value='Krishan Bhati';
      document.getElementById('email').value='krishan@example.com';
      document.getElementById('phone').value='9876543210';
      document.getElementById('pincode').value='110001';
      validateName();validateEmail();validatePhone();validatePin();
    })

    // Modal helper
    function showModal({title,html,okText='OK',onOk}){
      const root = document.getElementById('modalRoot');
      const back = document.createElement('div'); back.className='modal-backdrop';
      back.innerHTML = `
        <div class="modal card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3>${title}</h3>
            <button class="close-x" aria-label="close">✕</button>
          </div>
          <div style="margin-top:12px">${html}</div>
          <div style="margin-top:16px;text-align:right">
            <button class="btn" id="modalOk">${okText}</button>
          </div>
        </div>
      `;
      root.appendChild(back);
      back.querySelector('.close-x').addEventListener('click',()=>{ root.removeChild(back); });
      back.querySelector('#modalOk').addEventListener('click',()=>{ if(onOk) onOk(); root.removeChild(back); });
    }

    // Submit registration
    document.getElementById('submitReg').addEventListener('click',e=>{
      e.preventDefault(); const ok = validateName() & validateEmail() & validatePhone() & validatePin();
      if(ok){ showModal({title:'Registration successful', html:'Welcome! Your registration is complete. Click Continue to explore destinations.', okText:'Continue', onOk:()=>{ showPage('page2'); }}) }
    })

    // Page 2 smooth scroll links
    document.querySelectorAll('[data-scroll]').forEach(a=>{
      a.addEventListener('click',ev=>{ ev.preventDefault(); const target = a.getAttribute('href'); const el = document.querySelector(target); if(el) el.scrollIntoView({behavior:'smooth',block:'start'}); });
    })

    // page navigation buttons
    document.getElementById('toPage3').addEventListener('click',()=>showPage('page3'));
    document.getElementById('endOfBlog').addEventListener('click',()=>showPage('page3'));
    document.getElementById('backToBlog').addEventListener('click',()=>showPage('page2'));

    // Price calculation
    function computeTotal(){ const checks = document.querySelectorAll('#page3 input[type=checkbox]'); let total=0; const chosen=[]; checks.forEach(c=>{ if(c.checked){ const p = Number(c.dataset.price||0); total += p; const label = c.parentElement.textContent.trim(); chosen.push({label,p}); }}); document.getElementById('total').textContent = '₹' + total.toLocaleString('en-IN'); return {total,chosen}; }
    document.querySelectorAll('#page3 input[type=checkbox]').forEach(cb=>cb.addEventListener('change',()=>computeTotal()));

    // Confirm plan
    document.getElementById('confirmPlan').addEventListener('click',()=>{
      const {total,chosen} = computeTotal();
      const html = `<p style="color:var(--muted)">Total payable (simulated): <strong>₹${total.toLocaleString('en-IN')}</strong></p>
        <ul style='margin-top:12px'>${chosen.map(c=>`<li>${c.label} — ₹${c.p.toLocaleString('en-IN')}</li>`).join('')}</ul>`;
      showModal({title:'Confirm Selections',html:html, okText:'Finish', onOk:()=>{ populateSummary({total,chosen}); showPage('page4'); }});
    })

    function populateSummary({total,chosen}){
      const div = document.getElementById('summary'); div.innerHTML = '';
      const name = document.getElementById('fname').value || 'Guest';
      const em = document.getElementById('email').value || '';
      const phone = document.getElementById('phone').value || '';
      const container = document.createElement('div');
      container.innerHTML = `<strong>Traveler:</strong> ${name} <br><strong>Email:</strong> ${em} <br><strong>Phone:</strong> ${phone} <br><hr style=\"opacity:0.06;margin:10px 0\"><strong>Selections</strong>`;
      const list = document.createElement('ul'); chosen.forEach(c=>{ const li = document.createElement('li'); li.textContent = `${c.label} — ₹${c.p.toLocaleString('en-IN')}`; list.appendChild(li); });
      const tot = document.createElement('div'); tot.style.marginTop='8px'; tot.innerHTML=`<strong>Total:</strong> ₹${total.toLocaleString('en-IN')}`;
      container.appendChild(list); container.appendChild(tot);
      div.appendChild(container);
    }

    // Start over
    document.getElementById('startOver').addEventListener('click',()=>{
      // reset form and selections
      regForm.reset(); document.querySelectorAll('#page3 input[type=checkbox]').forEach(cb=>cb.checked=false); computeTotal(); showPage('page1');
      // clear errors
      errName.textContent=errEmail.textContent=errPhone.textContent=errPin.textContent='';
    });

    // share/copy link (sample behaviour - copies current page id)
    document.getElementById('shareLink').addEventListener('click',e=>{ e.preventDefault(); const pid = Array.from(document.querySelectorAll('.page')).find(p=>p.classList.contains('active')).id; const txt = `voyageflow.html#${pid}`; navigator.clipboard?.writeText(txt).then(()=>{ showModal({title:'Link copied',html:`${txt} copied to clipboard (simulated).`}); }).catch(()=>{ showModal({title:'Copy',html:`${txt} — please copy manually.`}); }); });

    // Accessibility: allow Enter on modal OK
    document.addEventListener('keydown',e=>{ if(e.key==='Escape'){ const root = document.getElementById('modalRoot'); if(root.firstChild) root.removeChild(root.firstChild); } });

    // init total
    computeTotal();
  </script>
</body>
</html>
